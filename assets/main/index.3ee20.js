window.__require=function t(e,n,r){function o(a,s){if(!n[a]){if(!e[a]){var u=a.split("/");if(u=u[u.length-1],!e[u]){var c="function"==typeof __require&&__require;if(!s&&c)return c(u,!0);if(i)return i(u,!0);throw new Error("Cannot find module '"+a+"'")}a=u}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){return o(e[a][1][t]||t)},l,l.exports,t,e,n,r)}return n[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<r.length;a++)o(r[a]);return o}({Abilities:[function(t,e,n){"use strict";cc._RF.push(e,"131cbJoPplPn6U5pSAdwpCA","Abilities");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var s=a(t("../models/GameInfo")),u=cc._decorator,c=u.ccclass,l=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.teamCoins=null,e.buffButton=null,e.debuffButton=null,e.cancelButton=null,e}return o(e,t),e.prototype.init=function(t){this.gameScene=t,this.coins=0,this.updateCoins(0)},e.prototype.toggleAbilities=function(t){void 0===t&&(t=!0),this.buffButton.interactable=t,this.debuffButton.interactable=t,this.cancelButton.interactable=t,t&&this.updateCoins(0)},e.prototype.updateCoins=function(t){this.coins+=t,this.teamCoins.string=this.coins.toString(),this.buffButton.interactable=this.coins>=40,this.debuffButton.interactable=this.coins>=60,this.cancelButton.interactable=this.coins>=100},e.prototype.onBuffAbility=function(){this.buffButton.interactable=!1,this.coins-=s.default.BUFF_POTION_COST,this.teamCoins.string=this.coins.toString(),this.gameScene.activateBuff()},e.prototype.onDebuffAbility=function(){this.debuffButton.interactable=!1,this.coins-=s.default.DEBUFF_PORTION_COST,this.teamCoins.string=this.coins.toString(),this.gameScene.activateDebuff()},e.prototype.onCancelAbility=function(){this.cancelButton.interactable=!1,this.coins-=s.default.FLIP_THE_TABLE_COST,this.teamCoins.string=this.coins.toString(),this.gameScene.cancelCurrentRound()},i([l(cc.Label)],e.prototype,"teamCoins",void 0),i([l(cc.Button)],e.prototype,"buffButton",void 0),i([l(cc.Button)],e.prototype,"debuffButton",void 0),i([l(cc.Button)],e.prototype,"cancelButton",void 0),i([c],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../models/GameInfo":"GameInfo"}],BaseComponent:[function(t,e,n){"use strict";cc._RF.push(e,"dd5815rMlhAwbmiq8XytmNr","BaseComponent");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator.ccclass,s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.show=function(){this.node&&(this.node.active=!0)},e.prototype.hide=function(){this.node&&(this.node.active=!1)},e.prototype.dispatchCustomEvent=function(t,e,n){if(void 0===e&&(e=null),void 0===n&&(n=!0),!cc.isValid(this.node))return null;var r=new cc.Event.EventCustom(t,n);return r.setUserData(e),this.node.dispatchEvent(r),r.getUserData()},i([a],e)}(cc.Component);n.default=s,cc._RF.pop()},{}],Cards:[function(t,e,n){"use strict";cc._RF.push(e,"98109xY1wBBHp3qzZYRvjp4","Cards");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var s=a(t("../models/GameInfo")),u=a(t("./Carousel")),c=cc._decorator,l=c.ccclass,f=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.att1Label=null,e.att2Label=null,e.att3Label=null,e.placeButton=null,e.cardCarousel=null,e}return o(e,t),e.prototype.init=function(t){this.gameScene=t},e.prototype.addCards=function(t){this.cardCarousel.init(t)},e.prototype.addCard=function(t){this.cardCarousel.addCard(t)},e.prototype.removeCard=function(t){this.cardCarousel.removeCard(t)},e.prototype.updateAttributes=function(t){this.activeCard=t;var e=Math.round(s.default.cardValues[t].attributes[0]*(this.isBuffActive?1.1:1));this.att1Label.string=e.toString(),this.att1Label.node.color=this.isBuffActive?s.default.TEAM1_COLOR:s.default.DEFAULT_CARDTEXT,e=Math.round(s.default.cardValues[t].attributes[1]*(this.isBuffActive?1.1:1)),this.att2Label.string=e.toString(),this.att2Label.node.color=this.isBuffActive?s.default.TEAM1_COLOR:s.default.DEFAULT_CARDTEXT,e=Math.round(s.default.cardValues[t].attributes[2]*(this.isBuffActive?1.1:1)),this.att3Label.string=e.toString(),this.att3Label.node.color=this.isBuffActive?s.default.TEAM1_COLOR:s.default.DEFAULT_CARDTEXT},e.prototype.enablePlacing=function(){this.placeButton.interactable=!0},e.prototype.disablePlacing=function(){this.placeButton.interactable=!1},e.prototype.activateBuff=function(){this.isBuffActive=!0,this.updateAttributes(this.activeCard)},e.prototype.deactivateBuff=function(){this.isBuffActive=!1,this.updateAttributes(this.activeCard)},e.prototype.onPlaceCard=function(){this.disablePlacing(),this.gameScene.placeCard(this.activeCard)},i([f(cc.Label)],e.prototype,"att1Label",void 0),i([f(cc.Label)],e.prototype,"att2Label",void 0),i([f(cc.Label)],e.prototype,"att3Label",void 0),i([f(cc.Button)],e.prototype,"placeButton",void 0),i([f(u.default)],e.prototype,"cardCarousel",void 0),i([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../models/GameInfo":"GameInfo","./Carousel":"Carousel"}],Card:[function(t,e,n){"use strict";cc._RF.push(e,"c593dlwwdlFV6NsfqmYKPS3","Card");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var s=a(t("../models/GameInfo")),u=cc._decorator,c=u.ccclass,l=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cardBG=null,e.cardPic=null,e.att1Label=null,e.att2Label=null,e.att3Label=null,e.cardName=null,e.desc=null,e}return o(e,t),e.prototype.setCardProps=function(t){this.cardIndex=t;var e=s.default.cardValues[t];this.cardBG.color=this.HEXToRGB(e.color),this.cardPic.spriteFrame=s.default.sprites.getSpriteFrame("3af1e1a5f42bbd10be605f053a7c56af-"+t),this.att1Label.string=e.attributes[0].toString(),this.att2Label.string=e.attributes[1].toString(),this.att3Label.string=e.attributes[2].toString(),this.cardName.string=e.name,this.desc.string=e.tooltip},e.prototype.getIndex=function(){return this.cardIndex},e.prototype.HEXToRGB=function(t){var e=[];return t=t.startsWith("#")?t.substr(1):t,e.push(parseInt(t.substr(0,2),16)),e.push(parseInt(t.substr(2,2),16)),e.push(parseInt(t.substr(4,2),16)),new cc.Color(e[0],e[1],e[2],255)},i([l(cc.Node)],e.prototype,"cardBG",void 0),i([l(cc.Sprite)],e.prototype,"cardPic",void 0),i([l(cc.Label)],e.prototype,"att1Label",void 0),i([l(cc.Label)],e.prototype,"att2Label",void 0),i([l(cc.Label)],e.prototype,"att3Label",void 0),i([l(cc.Label)],e.prototype,"cardName",void 0),i([l(cc.Label)],e.prototype,"desc",void 0),i([c],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../models/GameInfo":"GameInfo"}],Carousel:[function(t,e,n){"use strict";cc._RF.push(e,"fbbc2zMYV5Iu6z5MGaWRoHR","Carousel");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var s=a(t("./BaseComponent")),u=a(t("./Card")),c=a(t("./Cards")),l=cc._decorator,f=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.itemPrefab=null,e.container=null,e.leftButton=null,e.rightButton=null,e}return o(e,t),e.prototype.init=function(t){this.currentIndex=0,this.container.setCurrentPageIndex(this.currentIndex);for(var e=0,n=t;e<n.length;e++){var r=n[e];this.addCard(r)}this.goToStartIndex()},e.prototype.addCard=function(t){var e=cc.instantiate(this.itemPrefab);e.getComponent(u.default).setCardProps(t),e.scale=.6,this.addItem(e)},e.prototype.goToStartIndex=function(){this.currentIndex=0,this.leftButton.interactable=!1,this.rightButton.interactable=!0,this.container.scrollToPage(this.currentIndex,.5),this.changeInfoInParent()},e.prototype.onLeft=function(){1==this.currentIndex&&(this.leftButton.interactable=!1),this.rightButton.interactable=!0,this.container.scrollToPage(--this.currentIndex,.5),this.changeInfoInParent()},e.prototype.onRight=function(){3==this.currentIndex&&(this.rightButton.interactable=!1),this.leftButton.interactable=!0,this.container.scrollToPage(++this.currentIndex,.5),this.changeInfoInParent()},e.prototype.removeCard=function(t){for(var e=0,n=this.container.getPages();e<n.length;e++){var r=n[e];if(r.getComponent(u.default).getIndex()==t){this.container.removePage(r);break}}this.goToStartIndex()},e.prototype.addItem=function(t){this.container.addPage(t)},e.prototype.changeInfoInParent=function(){var t=this.container.getPages()[this.currentIndex].getComponent(u.default).getIndex();this.node.parent.getComponent(c.default).updateAttributes(t)},i([p(cc.Prefab)],e.prototype,"itemPrefab",void 0),i([p(cc.PageView)],e.prototype,"container",void 0),i([p(cc.Button)],e.prototype,"leftButton",void 0),i([p(cc.Button)],e.prototype,"rightButton",void 0),i([f],e)}(s.default);n.default=d,cc._RF.pop()},{"./BaseComponent":"BaseComponent","./Card":"Card","./Cards":"Cards"}],Dictionary:[function(t,e,n){"use strict";cc._RF.push(e,"39cc0o6/uJBoL/4hpKbJ/pz","Dictionary"),Object.defineProperty(n,"__esModule",{value:!0});var r=t("./util"),o=function(){function t(t){this.table={},this.nElements=0,this.toStr=t||r.defaultToString}return t.prototype.getValue=function(t){var e=this.table["$"+this.toStr(t)];if(!r.isUndefined(e))return e.value},t.prototype.setValue=function(t,e){if(!r.isUndefined(t)&&!r.isUndefined(e)){var n,o="$"+this.toStr(t),i=this.table[o];return r.isUndefined(i)?(this.nElements++,n=void 0):n=i.value,this.table[o]={key:t,value:e},n}},t.prototype.remove=function(t){var e="$"+this.toStr(t),n=this.table[e];if(!r.isUndefined(n))return delete this.table[e],this.nElements--,n.value},t.prototype.keys=function(){var t=[];for(var e in this.table)if(r.has(this.table,e)){var n=this.table[e];t.push(n.key)}return t},t.prototype.values=function(){var t=[];for(var e in this.table)if(r.has(this.table,e)){var n=this.table[e];t.push(n.value)}return t},t.prototype.forEach=function(t){for(var e in this.table)if(r.has(this.table,e)){var n=this.table[e];if(!1===t(n.key,n.value))return}},t.prototype.containsKey=function(t){return!r.isUndefined(this.getValue(t))},t.prototype.clear=function(){this.table={},this.nElements=0},t.prototype.size=function(){return this.nElements},t.prototype.isEmpty=function(){return this.nElements<=0},t.prototype.toString=function(){var t="{";return this.forEach(function(e,n){t+="\n\t"+e+" : "+n}),t+"\n}"},t}();n.default=o,cc._RF.pop()},{"./util":"util"}],GameCard:[function(t,e,n){"use strict";cc._RF.push(e,"6fb07X0NwdFUq8K7WFMGVs8","GameCard");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var s=a(t("../models/GameInfo")),u=cc._decorator,c=u.ccclass,l=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cardLabel=null,e.cardBG=null,e.profile=null,e.attributeIcon=null,e.attributeLabel=null,e.attributeIcons=[],e}return o(e,t),e.prototype.setLabel=function(t){this.toggleLabel(),this.cardLabel.string=t},e.prototype.setCardProps=function(t,e){this.toggleLabel(!1);var n=s.default.cardValues[t];this.cardBG.color=this.HEXToRGB(n.color),this.profile.spriteFrame=s.default.sprites.getSpriteFrame("3af1e1a5f42bbd10be605f053a7c56af-"+t),this.attributeIcon.spriteFrame=this.attributeIcons[e],this.cardProp=n.attributes[e],this.attributeLabel.string=this.cardProp.toString(),this.attributeLabel.node.color=s.default.DEFAULT_BOARDTEXT},e.prototype.getCardProp=function(){return this.cardLabel.node.active?0:this.cardProp},e.prototype.enableBuff=function(){this.cardLabel.node.active||(this.cardProp=Math.round(1.1*this.cardProp),this.attributeLabel.string=this.cardProp.toString(),this.attributeLabel.node.color=s.default.TEAM1_COLOR)},e.prototype.enableDebuff=function(){this.cardLabel.node.active||(this.cardProp=Math.round(.85*this.cardProp),this.attributeLabel.string=this.cardProp.toString(),this.attributeLabel.node.color=s.default.TEAM2_COLOR)},e.prototype.toggleLabel=function(t){void 0===t&&(t=!0),this.cardLabel.node.active=t,this.cardBG.active=!t,this.profile.node.parent.active=!t,this.attributeIcon.node.parent.active=!t},e.prototype.HEXToRGB=function(t){var e=[];return t=t.startsWith("#")?t.substr(1):t,e.push(parseInt(t.substr(0,2),16)),e.push(parseInt(t.substr(2,2),16)),e.push(parseInt(t.substr(4,2),16)),new cc.Color(e[0],e[1],e[2],255)},i([l(cc.Label)],e.prototype,"cardLabel",void 0),i([l(cc.Node)],e.prototype,"cardBG",void 0),i([l(cc.Sprite)],e.prototype,"profile",void 0),i([l(cc.Sprite)],e.prototype,"attributeIcon",void 0),i([l(cc.Label)],e.prototype,"attributeLabel",void 0),i([l([cc.SpriteFrame])],e.prototype,"attributeIcons",void 0),i([c],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../models/GameInfo":"GameInfo"}],GameController:[function(t,e,n){"use strict";cc._RF.push(e,"a81ddimc3BAaYH0AS6KaTvK","GameController");var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0}),n.GameController=void 0;var o=r(t("../models/Dictionary")),i=t("../models/GameInfo"),a=t("../models/UserInfo"),s=t("../utils/RandomUtils"),u=function(){function t(){this.firstRound=!0,this.teamPlayerMap=new o.default,this.currentTurn=i.Teams.None}return t.getInstance=function(){return this.instance||(this.instance=new t),this.instance},t.prototype.addPlayer=function(t,e){this.teamPlayerMap.getValue(e)||this.teamPlayerMap.setValue(e,new Array),this.teamPlayerMap.getValue(e).push(t)},t.prototype.getPlayersInTeam=function(t){return this.teamPlayerMap.getValue(t)?this.teamPlayerMap.getValue(t).length:0},t.prototype.getPlayers=function(){var t=this.teamPlayerMap.getValue(i.Teams.Team1).concat(this.teamPlayerMap.getValue(i.Teams.Team2));return(t=t.filter(function(t){return t.getID()!=a.UserInfo.getUserID()})).unshift(a.UserInfo.getUser()),t},t.prototype.startRound=function(t,e){if(this.currentTurn=this.currentTurn==i.Teams.Team1?i.Teams.Team2:i.Teams.Team1,this.firstRound){this.firstRound=!1,this.currentTurn=a.UserInfo.getUser().playerTeam,this.allCards=Array.from(Array(30).keys()).slice(1),this.allCards.unshift(0),this.allCards.splice(7,2),console.log("All cards: %j",this.allCards);for(var n=[],r=0;r<5;++r)n.push(s.popRandomElement(this.allCards));e(n,this.currentTurn)}else e(this.currentTurn)},t.prototype.getNextCard=function(t){return this.allCards.push(t),s.popRandomElement(this.allCards)},t}();n.GameController=u,cc._RF.pop()},{"../models/Dictionary":"Dictionary","../models/GameInfo":"GameInfo","../models/UserInfo":"UserInfo","../utils/RandomUtils":"RandomUtils"}],GameInfo:[function(t,e,n){"use strict";var r;cc._RF.push(e,"1fe6cvGwS9FWpRth48DARqi","GameInfo"),Object.defineProperty(n,"__esModule",{value:!0}),n.Teams=void 0,function(t){t[t.None=0]="None",t[t.Team1=1]="Team1",t[t.Team2=2]="Team2"}(r=n.Teams||(n.Teams={}));var o=function(){function t(){}return t.init=function(){t.roomCode="",t.playerTeam=r.None,cc.resources.load("/jsons/CardValues",cc.JsonAsset,function(e,n){t.cardValues=n.json})},t.MAX_HEALTH=10,t.TIMER=20,t.CARDS_PER_PLAYER=5,t.BUFF_POTION_COST=40,t.BUFF_INC=10,t.DEBUFF_PORTION_COST=60,t.DEBUFF_DEC=15,t.FLIP_THE_TABLE_COST=100,t.TEAM1_COLOR=new cc.Color(122,214,88,255),t.TEAM2_COLOR=new cc.Color(224,112,88,255),t.DEFAULT_CARDTEXT=new cc.Color(97,97,97,255),t.DEFAULT_BOARDTEXT=new cc.Color(39,39,39,255),t}();n.default=o,cc._RF.pop()},{}],GameScene:[function(t,e,n){"use strict";cc._RF.push(e,"a8466GoPXdCg5utTF1GHbzB","GameScene");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},u=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&i(e,t,n);return a(e,t),e},c=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var l=c(t("../components/Abilities")),f=c(t("../components/Cards")),p=c(t("../components/GameCard")),d=c(t("../components/ProfilePic")),h=t("../controllers/GameController"),m=u(t("../models/GameInfo")),y=t("../models/UserInfo"),g=t("../utils/RandomUtils"),v=cc._decorator,b=v.ccclass,_=v.property,C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timerNode=null,e.loader=null,e.gameEnd=null,e.overlay=null,e.mySum=null,e.oppSum=null,e.roundAttributeLabel=null,e.teamHealth=null,e.oppHealth=null,e.damageCounter=null,e.teamCardSlots=[],e.oppCardSlots=[],e.teamProfiles=[],e.oppProfiles=[],e.cards=null,e.abilities=null,e}return o(e,t),e.prototype.start=function(){this.loader.active=!0,setTimeout(function(){var t=this;this.loader.active=!1;var e=this.node.getComponent(cc.Animation),n=e.defaultClip;g.playAnimOnce(e,n,this.node,function(){t.init()})}.bind(this),3e3)},e.prototype.init=function(){this.cards.init(this),this.abilities.init(this),this.myHand=[],this.firstRound=!0,this.playedCard=!1,this.turnEndInProgress=!1,this.myTurn=!0,this.populatePlayers(),this.populateHealth(),this.showRound()},e.prototype.update=function(){4==this.noOfPlayersDone&&(this.turnEndInProgress||(this.stopTimer(),this.switchPlayer()))},e.prototype.placeCard=function(t){this.teamCardSlots[0].setCardProps(t,this.roundAttribute),this.buffActive&&this.teamCardSlots[0].enableBuff(),this.myHand.splice(this.myHand.indexOf(t),1),++this.noOfPlayersDone,this.playedCard=!0;var e=h.GameController.getInstance().getNextCard(t);this.myHand.push(e),this.cards.removeCard(t),this.cards.addCard(e)},e.prototype.activateBuff=function(){this.buffActive=!0,this.cards.activateBuff(),this.teamCardSlots[0].enableBuff()},e.prototype.activateDebuff=function(){this.debuffActive=!0,this.oppCardSlots.forEach(function(t){t.enableDebuff()})},e.prototype.cancelCurrentRound=function(){this.cancelActive=!0},e.prototype.populatePlayers=function(){var t=this,e=y.UserInfo.getUser().playerTeam,n=0,r=0;h.GameController.getInstance().getPlayers().forEach(function(o){var i;o.playerTeam==e?((i=t.teamProfiles[n]).setPlayerName(o.getID()==y.UserInfo.getUserID()?"You":o.name),i.setProfilePic(o.playerTeam),i.setProfileColor(o.playerTeam),++n):((i=t.oppProfiles[r]).setPlayerName(o.name),i.setProfilePic(o.playerTeam),i.setProfileColor(o.playerTeam),++r)})},e.prototype.populateHealth=function(){this.teamHealth.getComponent(cc.ProgressBar).progress=1,this.teamHealth.getChildByName("bar").color=y.UserInfo.getUser().playerTeam==m.Teams.Team1?m.default.TEAM1_COLOR:m.default.TEAM2_COLOR,this.teamHealth.getChildByName("healthLabel").getComponent(cc.Label).string=m.default.MAX_HEALTH.toString(),this.oppHealth.getComponent(cc.ProgressBar).progress=1,this.oppHealth.getChildByName("bar").color=y.UserInfo.getUser().playerTeam==m.Teams.Team1?m.default.TEAM2_COLOR:m.default.TEAM1_COLOR,this.oppHealth.getChildByName("healthLabel").getComponent(cc.Label).string=m.default.MAX_HEALTH.toString()},e.prototype.showRound=function(){this.overlay.active=!0;var t=this.overlay.getChildByName("label").getComponent(cc.Label);this.myTurn?(t.string="Your Turn",this.overlay.color=y.UserInfo.getUser().playerTeam==m.Teams.Team1?m.default.TEAM1_COLOR:m.default.TEAM2_COLOR):(t.string="Opponent's Turn",this.overlay.color=y.UserInfo.getUser().playerTeam==m.Teams.Team1?m.default.TEAM2_COLOR:m.default.TEAM1_COLOR),setTimeout(function(){this.overlay.active=!1,this.roundAttribute=g.getRandomInt(0,2),this.setRoundAttribute();var t=this.firstRound?this.firstRoundStarted:this.roundStarted;this.disableDamageArrows(),h.GameController.getInstance().startRound(this.roundAttribute,t.bind(this))}.bind(this),2e3)},e.prototype.setRoundAttribute=function(){var t="Round's Attribute: ";t+=0==this.roundAttribute?"Fight Power":1==this.roundAttribute?"Vitality":"Stamina",this.roundAttributeLabel.string=t},e.prototype.firstRoundStarted=function(t,e){this.myHand=t,this.firstRound=!1,this.noOfPlayersDone=0,this.myTurn=!0,this.otherPlayed=!1,this.turnEndInProgress=!1,this.buffActive=!1,this.debuffActive=!1,this.playedCard=!1,this.cancelActive=!1,this.mySum.active=!1,this.oppSum.active=!1,this.cards.addCards(t),this.cards.enablePlacing(),this.cards.deactivateBuff(),this.abilities.toggleAbilities(),this.slotWaiting(e),this.startTimer(),console.log("First Round: myTurn?"+this.myTurn),this.setupBots(this.myTurn)},e.prototype.roundStarted=function(t){this.noOfPlayersDone=0,this.myTurn=y.UserInfo.getUser().playerTeam==t,this.otherPlayed=!1,this.turnEndInProgress=!1,this.buffActive=!1,this.debuffActive=!1,this.cancelActive=!1,this.playedCard=!1,this.mySum.active=!1,this.oppSum.active=!1,this.cards.deactivateBuff(),this.slotWaiting(t),this.myTurn?(this.cards.enablePlacing(),this.abilities.toggleAbilities()):(this.cards.disablePlacing(),this.abilities.toggleAbilities(!1)),this.startTimer(),console.log("Next Round: myTurn?"+this.myTurn),this.setupBots(this.myTurn)},e.prototype.slotWaiting=function(t){var e=t==y.UserInfo.getUser().playerTeam?this.teamCardSlots:this.oppCardSlots,n=t==y.UserInfo.getUser().playerTeam?this.oppCardSlots:this.teamCardSlots;e.forEach(function(t){t.setLabel("Selecting Card...")}),this.otherPlayed||n.forEach(function(t){t.setLabel("Waiting for Other Team")})},e.prototype.setupBots=function(t){for(var e=t?1:0,n=t?this.teamCardSlots:this.oppCardSlots,r=function(t){setTimeout(function(){n[t].setCardProps(g.getRandomIntWithExclusion(0,29,[7,8]),this.roundAttribute),!this.myTurn&&this.debuffActive&&n[t].enableDebuff(),this.otherPlayed&&!this.cancelActive&&this.damageReport.bind(this).call(),++this.noOfPlayersDone}.bind(o),1e3*g.getRandomInt(5,10))},o=this,i=e;i<4;++i)r(i)},e.prototype.startTimer=function(){var t=this;this.timerNode.width=1020,this.myTurn?this.timerNode.color=y.UserInfo.getUser().playerTeam==m.Teams.Team1?m.default.TEAM1_COLOR:m.default.TEAM2_COLOR:this.timerNode.color=y.UserInfo.getUser().playerTeam==m.Teams.Team1?m.default.TEAM2_COLOR:m.default.TEAM1_COLOR,this.timer=setInterval(function(){this.timerNode.width-=51}.bind(this),1e3),setTimeout(function(){!t.playedCard&&t.myTurn&&t.placeCard(g.getRandomElement(t.myHand)),clearInterval(t.timer),t.timerNode.width=1020},1e3*m.default.TIMER)},e.prototype.stopTimer=function(){clearInterval(this.timer),this.timerNode.width=1020},e.prototype.switchPlayer=function(){var t=this;if(this.turnEndInProgress=!0,this.otherPlayed)setTimeout(function(){t.endRound()},2e3);else{this.overlay.active=!0;var e=this.overlay.getChildByName("label").getComponent(cc.Label);this.myTurn?(e.string="Opponent's Turn",this.overlay.color=y.UserInfo.getUser().playerTeam==m.Teams.Team1?m.default.TEAM2_COLOR:m.default.TEAM1_COLOR):(e.string="Your Turn",this.overlay.color=y.UserInfo.getUser().playerTeam==m.Teams.Team1?m.default.TEAM1_COLOR:m.default.TEAM2_COLOR),setTimeout(function(){var e;t.overlay.active=!1,t.myTurn=!t.myTurn,t.otherPlayed=!0,console.log("Player Switched: myTurn?"+t.myTurn),t.noOfPlayersDone=0,t.setupBots(t.myTurn),t.myTurn?(e=y.UserInfo.getUser().playerTeam,t.cards.enablePlacing(),t.abilities.toggleAbilities()):(e=y.UserInfo.getUser().playerTeam==m.Teams.Team1?m.Teams.Team2:m.Teams.Team1,t.cards.disablePlacing(),t.abilities.toggleAbilities(!1)),t.startTimer(),t.slotWaiting(e),t.turnEndInProgress=!1},2e3)}},e.prototype.endRound=function(){var t,e,n,r=this.cancelActive?0:this.damageReport();console.log("Round Ended: myTurn?"+this.myTurn),this.myTurn&&r<0||!this.myTurn&&r>0?(t=this.teamHealth,e=5*Math.abs(r),n=!1):(t=this.oppHealth,e=10*Math.abs(r),n=!0);var o=parseInt(t.getChildByName("healthLabel").getComponent(cc.Label).string);t.getComponent(cc.ProgressBar).progress=(o-Math.abs(r))/m.default.MAX_HEALTH,t.getChildByName("healthLabel").getComponent(cc.Label).string=(o-Math.abs(r)).toString(),o-Math.abs(r)<=0?this.declareGameEnd(n):(this.abilities.updateCoins(e),this.showRound())},e.prototype.damageReport=function(){var t,e=0,n=0;this.teamCardSlots.forEach(function(n){t||(t=n.attributeIcons),e+=n.getCardProp()}),this.mySum.active=!0,this.mySum.color=y.UserInfo.getUser().playerTeam==m.Teams.Team1?m.default.TEAM1_COLOR:m.default.TEAM2_COLOR,this.mySum.getChildByName("power_icon").getComponent(cc.Sprite).spriteFrame=t[this.roundAttribute],this.mySum.getChildByName("opponentSumlabel").getComponent(cc.Label).string=e.toString(),this.oppCardSlots.forEach(function(t){n+=t.getCardProp()}),this.oppSum.active=!0,this.oppSum.color=y.UserInfo.getUser().playerTeam==m.Teams.Team1?m.default.TEAM2_COLOR:m.default.TEAM1_COLOR,this.oppSum.getChildByName("power_icon").getComponent(cc.Sprite).spriteFrame=t[this.roundAttribute],this.oppSum.getChildByName("opponentSumlabel").getComponent(cc.Label).string=n.toString();var r,o,i,a=this.myTurn?e:n,s=this.myTurn?n:e,u=Math.round((a-s)/a*100);return r=Math.abs(u)<=20?2:Math.abs(u)>20&&Math.abs(u)<=40?4:6,r*=u<0?-1:1,this.myTurn&&r<0||!this.myTurn&&r>0?(o=this.damageCounter.getChildByName("arrow_red"),i=this.damageCounter.getChildByName("arrow_green")):(o=this.damageCounter.getChildByName("arrow_green"),i=this.damageCounter.getChildByName("arrow_red")),o.active=!0,i.active=!1,o.getChildByName("damageLabel").getComponent(cc.Label).string="-"+Math.abs(r).toString(),r},e.prototype.disableDamageArrows=function(){var t=this.damageCounter.getChildByName("arrow_green");t.active=!1,(t=this.damageCounter.getChildByName("arrow_red")).active=!1},e.prototype.declareGameEnd=function(t){this.gameEnd.active=!0,this.gameEnd.getChildByName("brownOverlay").getChildByName("long_scroll").getChildByName("roundStatus").getComponent(cc.Label).string=t?"YOU WON":"YOU LOST",this.gameEnd.getChildByName("brownOverlay").getChildByName("long_scroll").getChildByName("gameWinSprite").active=t,this.gameEnd.getChildByName("brownOverlay").getChildByName("long_scroll").getChildByName("gameLoseSprite").active=!t},s([_(cc.Node)],e.prototype,"timerNode",void 0),s([_(cc.Node)],e.prototype,"loader",void 0),s([_(cc.Node)],e.prototype,"gameEnd",void 0),s([_(cc.Node)],e.prototype,"overlay",void 0),s([_(cc.Node)],e.prototype,"mySum",void 0),s([_(cc.Node)],e.prototype,"oppSum",void 0),s([_(cc.Label)],e.prototype,"roundAttributeLabel",void 0),s([_(cc.Node)],e.prototype,"teamHealth",void 0),s([_(cc.Node)],e.prototype,"oppHealth",void 0),s([_(cc.Node)],e.prototype,"damageCounter",void 0),s([_([p.default])],e.prototype,"teamCardSlots",void 0),s([_([p.default])],e.prototype,"oppCardSlots",void 0),s([_([d.default])],e.prototype,"teamProfiles",void 0),s([_([d.default])],e.prototype,"oppProfiles",void 0),s([_(f.default)],e.prototype,"cards",void 0),s([_(l.default)],e.prototype,"abilities",void 0),s([b],e)}(cc.Component);n.default=C,cc._RF.pop()},{"../components/Abilities":"Abilities","../components/Cards":"Cards","../components/GameCard":"GameCard","../components/ProfilePic":"ProfilePic","../controllers/GameController":"GameController","../models/GameInfo":"GameInfo","../models/UserInfo":"UserInfo","../utils/RandomUtils":"RandomUtils"}],HomeScene:[function(t,e,n){"use strict";cc._RF.push(e,"d04eePFzeZAPZVlbS8eB0gw","HomeScene");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var s=a(t("../components/HomeView")),u=a(t("../components/LobbyView")),c=a(t("../models/GameInfo")),l=t("../models/User"),f=t("../models/UserInfo"),p=t("../utils/RandomUtils"),d=cc._decorator,h=d.ccclass,m=d.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.homeView=null,e.lobbyView=null,e.playerSprites=null,e}return o(e,t),e.prototype.start=function(){c.default.init(),c.default.sprites=this.playerSprites;var t=new l.User(p.generateUuid4());f.UserInfo.getInstance().setUser(t),this.initHomeView()},e.prototype.changeToLobbyView=function(){this.homeView&&this.homeView.hide(),this.initLobbyView()},e.prototype.changeToHomeView=function(){this.lobbyView&&this.lobbyView.hide(),this.initHomeView()},e.prototype.startGame=function(){cc.director.preloadScene("/scenes/GameScene",null,function(){cc.director.loadScene("/scenes/GameScene")})},e.prototype.initHomeView=function(){this.homeView.show(),this.homeView.init(this)},e.prototype.initLobbyView=function(){this.lobbyView.show(),this.lobbyView.init(this)},i([m(s.default)],e.prototype,"homeView",void 0),i([m(u.default)],e.prototype,"lobbyView",void 0),i([m(cc.SpriteAtlas)],e.prototype,"playerSprites",void 0),i([h],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../components/HomeView":"HomeView","../components/LobbyView":"LobbyView","../models/GameInfo":"GameInfo","../models/User":"User","../models/UserInfo":"UserInfo","../utils/RandomUtils":"RandomUtils"}],HomeView:[function(t,e,n){"use strict";cc._RF.push(e,"dc09cOjFmRDErlJVnsetCxm","HomeView");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var s=a(t("../models/GameInfo")),u=t("../models/UserInfo"),c=a(t("./BaseComponent")),l=cc._decorator,f=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.playerNameInput=null,e.roomCodeInput=null,e}return o(e,t),e.prototype.init=function(t){this.homeScene=t},e.prototype.moveToLobby=function(){var t=this.roomCodeInput.string.trim(),e=this.playerNameInput.string.trim();s.default.roomCode=t,u.UserInfo.getUser().name=e,this.homeScene.changeToLobbyView()},i([p(cc.EditBox)],e.prototype,"playerNameInput",void 0),i([p(cc.EditBox)],e.prototype,"roomCodeInput",void 0),i([f],e)}(c.default);n.default=d,cc._RF.pop()},{"../models/GameInfo":"GameInfo","../models/UserInfo":"UserInfo","./BaseComponent":"BaseComponent"}],LinkedList:[function(t,e,n){"use strict";cc._RF.push(e,"c161bJhRIpDQZrmSSV/c82c","LinkedList"),Object.defineProperty(n,"__esModule",{value:!0});var r=t("./util"),o=t("./arrays"),i=function(){function t(){this.firstNode=null,this.lastNode=null,this.nElements=0}return t.prototype.add=function(t,e){if(r.isUndefined(e)&&(e=this.nElements),e<0||e>this.nElements||r.isUndefined(t))return!1;var n=this.createNode(t);if(0===this.nElements||null===this.lastNode)this.firstNode=n,this.lastNode=n;else if(e===this.nElements)this.lastNode.next=n,this.lastNode=n;else if(0===e)n.next=this.firstNode,this.firstNode=n;else{var o=this.nodeAtIndex(e-1);if(null==o)return!1;n.next=o.next,o.next=n}return this.nElements++,!0},t.prototype.first=function(){if(null!==this.firstNode)return this.firstNode.element},t.prototype.last=function(){if(null!==this.lastNode)return this.lastNode.element},t.prototype.elementAtIndex=function(t){var e=this.nodeAtIndex(t);if(null!==e)return e.element},t.prototype.indexOf=function(t,e){var n=e||r.defaultEquals;if(r.isUndefined(t))return-1;for(var o=this.firstNode,i=0;null!==o;){if(n(o.element,t))return i;i++,o=o.next}return-1},t.prototype.contains=function(t,e){return this.indexOf(t,e)>=0},t.prototype.remove=function(t,e){var n=e||r.defaultEquals;if(this.nElements<1||r.isUndefined(t))return!1;for(var o=null,i=this.firstNode;null!==i;){if(n(i.element,t))return null==o?(this.firstNode=i.next,i===this.lastNode&&(this.lastNode=null)):i===this.lastNode?(this.lastNode=o,o.next=i.next,i.next=null):(o.next=i.next,i.next=null),this.nElements--,!0;o=i,i=i.next}return!1},t.prototype.clear=function(){this.firstNode=null,this.lastNode=null,this.nElements=0},t.prototype.equals=function(e,n){var o=n||r.defaultEquals;return e instanceof t&&this.size()===e.size()&&this.equalsAux(this.firstNode,e.firstNode,o)},t.prototype.equalsAux=function(t,e,n){for(;null!==t&&null!==e;){if(!n(t.element,e.element))return!1;t=t.next,e=e.next}return!0},t.prototype.removeElementAtIndex=function(t){if(!(t<0||t>=this.nElements||null===this.firstNode||null===this.lastNode)){var e;if(1===this.nElements)e=this.firstNode.element,this.firstNode=null,this.lastNode=null;else{var n=this.nodeAtIndex(t-1);null===n?(e=this.firstNode.element,this.firstNode=this.firstNode.next):n.next===this.lastNode&&(e=this.lastNode.element,this.lastNode=n),null!==n&&null!==n.next&&(e=n.next.element,n.next=n.next.next)}return this.nElements--,e}},t.prototype.forEach=function(t){for(var e=this.firstNode;null!==e&&!1!==t(e.element);)e=e.next},t.prototype.reverse=function(){for(var t=null,e=this.firstNode,n=null;null!==e;)n=e.next,e.next=t,t=e,e=n;n=this.firstNode,this.firstNode=this.lastNode,this.lastNode=n},t.prototype.toArray=function(){for(var t=[],e=this.firstNode;null!==e;)t.push(e.element),e=e.next;return t},t.prototype.size=function(){return this.nElements},t.prototype.isEmpty=function(){return this.nElements<=0},t.prototype.toString=function(){return o.toString(this.toArray())},t.prototype.nodeAtIndex=function(t){if(t<0||t>=this.nElements)return null;if(t===this.nElements-1)return this.lastNode;for(var e=this.firstNode,n=0;n<t&&null!=e;n++)e=e.next;return e},t.prototype.createNode=function(t){return{element:t,next:null}},t}();n.default=i,cc._RF.pop()},{"./arrays":"arrays","./util":"util"}],LobbyView:[function(t,e,n){"use strict";cc._RF.push(e,"4e7c5d/GWhDQYUdB4MwHzQa","LobbyView");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../controllers/GameController"),u=t("../models/GameInfo"),c=t("../models/User"),l=t("../models/UserInfo"),f=t("../utils/RandomUtils"),p=a(t("./BaseComponent")),d=a(t("./ProfilePic")),h=a(t("./TeamPicker")),m=cc._decorator,y=m.ccclass,g=m.property,v=["Oliver","Abby","Watson","Tammy","Manuel","Vincent","Harper","Amy","Ron","Peppa","Nobel","Erik"],b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.teamPicker=null,e.team1List=null,e.team2List=null,e.startButton=null,e.profilePrefab=null,e}return o(e,t),e.prototype.init=function(t){this.homeScene=t,this.teamPicker.show();for(var e=0;e<4;++e){var n=new c.User(f.generateUuid4());n.name=f.popRandomElement(v),n.playerTeam=f.getRandomInt(1,2)==u.Teams.Team1?u.Teams.Team1:u.Teams.Team2,s.GameController.getInstance().addPlayer(n,n.playerTeam),this.teamPicker.addPlayerToTeam(n.name,n.playerTeam),this.addPlayer(n)}this.teamPicker.disableJoining(s.GameController.getInstance().getPlayersInTeam(u.Teams.Team1),s.GameController.getInstance().getPlayersInTeam(u.Teams.Team2))},e.prototype.onTeamPicked=function(){var t=this;s.GameController.getInstance().addPlayer(l.UserInfo.getUser(),l.UserInfo.getUser().playerTeam),this.addPlayer(l.UserInfo.getUser());for(var e=function(){var e=f.popRandomElement(v),n=f.getRandomInt(2,5);setTimeout(function(){var n=new c.User(f.generateUuid4());n.name=e,n.playerTeam=s.GameController.getInstance().getPlayersInTeam(u.Teams.Team1)<4?u.Teams.Team1:u.Teams.Team2,s.GameController.getInstance().addPlayer(n,n.playerTeam),t.addPlayer(n),4==s.GameController.getInstance().getPlayersInTeam(u.Teams.Team1)&&4==s.GameController.getInstance().getPlayersInTeam(u.Teams.Team2)&&(t.startButton.interactable=!0)},1e3*n)},n=0;n<3;++n)e()},e.prototype.onGameStart=function(){this.homeScene.startGame()},e.prototype.addPlayer=function(t){var e=cc.instantiate(this.profilePrefab);e.getComponent(d.default).setPlayerName(t.name),t.playerTeam==u.Teams.Team1?this.team1List.addChild(e):this.team2List.addChild(e)},i([g(h.default)],e.prototype,"teamPicker",void 0),i([g(cc.Node)],e.prototype,"team1List",void 0),i([g(cc.Node)],e.prototype,"team2List",void 0),i([g(cc.Button)],e.prototype,"startButton",void 0),i([g(cc.Prefab)],e.prototype,"profilePrefab",void 0),i([y],e)}(p.default);n.default=b,cc._RF.pop()},{"../controllers/GameController":"GameController","../models/GameInfo":"GameInfo","../models/User":"User","../models/UserInfo":"UserInfo","../utils/RandomUtils":"RandomUtils","./BaseComponent":"BaseComponent","./ProfilePic":"ProfilePic","./TeamPicker":"TeamPicker"}],ProfilePic:[function(t,e,n){"use strict";cc._RF.push(e,"0e17fPgGjNPUJrPTzBjeced","ProfilePic");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},u=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&i(e,t,n);return a(e,t),e};Object.defineProperty(n,"__esModule",{value:!0});var c=u(t("../models/GameInfo")),l=cc._decorator,f=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.playerName=null,e.profilePic=null,e.profileSprites=[],e}return o(e,t),e.prototype.setPlayerName=function(t){this.playerName.string=t},e.prototype.setProfilePic=function(t){this.profilePic.spriteFrame=this.profileSprites[t-1]},e.prototype.setProfileColor=function(t){this.node.getChildByName("profile_bg").color=t==c.Teams.Team1?c.default.TEAM1_COLOR:c.default.TEAM2_COLOR},s([p(cc.Label)],e.prototype,"playerName",void 0),s([p(cc.Sprite)],e.prototype,"profilePic",void 0),s([p([cc.SpriteFrame])],e.prototype,"profileSprites",void 0),s([f],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../models/GameInfo":"GameInfo"}],RandomUtils:[function(t,e,n){"use strict";cc._RF.push(e,"3eef2WnLfBO16zLwUpwISy5","RandomUtils"),Object.defineProperty(n,"__esModule",{value:!0}),n.playAnimOnce=n.generateUuid4=n.popRandomElement=n.getRandomElement=n.getRandomIntWithExclusion=n.getRandomInt=n.setSeed=void 0;var r=t("../models/random"),o=i(r.Random.engines.mt19937());function i(t){var e=Date.now()%(1<<31);return console.log("Will set seed",e),t.seed(e)}function a(t,e,n){return n||(n=o),r.Random.integer(t,e)(n)}n.setSeed=i,n.getRandomInt=a,n.getRandomIntWithExclusion=function(t,e,n,i){i||(i=o);for(var a=r.Random.integer(t,e)(i);-1!=n.indexOf(a);)a=r.Random.integer(t,e)(i);return a},n.getRandomElement=function(t,e){return t&&0!=t.length?t[a(0,t.length-1,e)]:null},n.popRandomElement=function(t,e){if(!t||0==t.length)return null;var n=a(0,t.length-1,e);return t.splice(n,1)[0]},n.generateUuid4=function(t){return t||(t=o),r.Random.uuid4(t)};var s=function(){function t(){}return t.prototype.play=function(t,e,n,r){t.targetOff(this),t.stop(),t.play(e),t.once("finished",function(){cc.isValid(n)&&(cc.isValid(r)?n.apply(r):n())},this)},t}();n.playAnimOnce=function(t,e,n,r,o){void 0===o&&(o=0);var i="";e&&(i=e instanceof cc.AnimationClip?e.name:e);var a=function(){(new s).play(t,i,r,n)};o>0?this.delayCall(o,a,t.node):a()},cc._RF.pop()},{"../models/random":"random"}],Set:[function(t,e,n){"use strict";cc._RF.push(e,"c93d1r4NhFKuY7W58SNI0Mu","Set"),Object.defineProperty(n,"__esModule",{value:!0});var r=t("./util"),o=t("./arrays"),i=t("./Dictionary"),a=function(){function t(t){this.dictionary=new i.default(t)}return t.prototype.contains=function(t){return this.dictionary.containsKey(t)},t.prototype.add=function(t){return!this.contains(t)&&!r.isUndefined(t)&&(this.dictionary.setValue(t,t),!0)},t.prototype.intersection=function(t){var e=this;this.forEach(function(n){return t.contains(n)||e.remove(n),!0})},t.prototype.union=function(t){var e=this;t.forEach(function(t){return e.add(t),!0})},t.prototype.difference=function(t){var e=this;t.forEach(function(t){return e.remove(t),!0})},t.prototype.isSubsetOf=function(t){if(this.size()>t.size())return!1;var e=!0;return this.forEach(function(n){return!!t.contains(n)||(e=!1,!1)}),e},t.prototype.remove=function(t){return!!this.contains(t)&&(this.dictionary.remove(t),!0)},t.prototype.forEach=function(t){this.dictionary.forEach(function(e,n){return t(n)})},t.prototype.toArray=function(){return this.dictionary.values()},t.prototype.isEmpty=function(){return this.dictionary.isEmpty()},t.prototype.size=function(){return this.dictionary.size()},t.prototype.clear=function(){this.dictionary.clear()},t.prototype.toString=function(){return o.toString(this.toArray())},t}();n.default=a,cc._RF.pop()},{"./Dictionary":"Dictionary","./arrays":"arrays","./util":"util"}],TeamPicker:[function(t,e,n){"use strict";cc._RF.push(e,"1d2290IwJhAk78P0c3rWgIn","TeamPicker");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../models/GameInfo"),u=t("../models/UserInfo"),c=a(t("./BaseComponent")),l=a(t("./LobbyView")),f=cc._decorator,p=f.ccclass,d=f.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.team1List=null,e.team2List=null,e.team1Button=null,e.team2Button=null,e}return o(e,t),e.prototype.addPlayerToTeam=function(t,e){var n=new cc.Node(t);n.addComponent(cc.Label).string=t,e==s.Teams.Team1?this.team1List.addChild(n):this.team2List.addChild(n)},e.prototype.disableJoining=function(t,e){4==t&&(this.team1Button.interactable=!1),4==e&&(this.team2Button.interactable=!1)},e.prototype.onTeamPicked=function(t,e){e==s.Teams.Team1.toString()&&(u.UserInfo.getUser().playerTeam=s.Teams.Team1),e==s.Teams.Team2.toString()&&(u.UserInfo.getUser().playerTeam=s.Teams.Team2),this.node.parent.getComponent(l.default).onTeamPicked(),this.hide()},i([d(cc.Node)],e.prototype,"team1List",void 0),i([d(cc.Node)],e.prototype,"team2List",void 0),i([d(cc.Button)],e.prototype,"team1Button",void 0),i([d(cc.Button)],e.prototype,"team2Button",void 0),i([p],e)}(c.default);n.default=h,cc._RF.pop()},{"../models/GameInfo":"GameInfo","../models/UserInfo":"UserInfo","./BaseComponent":"BaseComponent","./LobbyView":"LobbyView"}],UserInfo:[function(t,e,n){"use strict";cc._RF.push(e,"97e93m/UNxM74F9cJ4988H8","UserInfo"),Object.defineProperty(n,"__esModule",{value:!0}),n.UserInfo=void 0;var r=t("../utils/RandomUtils"),o=function(){function t(){this.deviceID=r.generateUuid4()}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.getUser=function(){return t.getInstance().getUser()},t.getUserID=function(){return t.instance.getUserID()},t.prototype.setUser=function(t){this.user=t},t.prototype.getUser=function(){return this.user},t.prototype.getUserID=function(){return this.user.getID()},t.prototype.getDeviceID=function(){return this.deviceID},t}();n.UserInfo=o,cc._RF.pop()},{"../utils/RandomUtils":"RandomUtils"}],User:[function(t,e,n){"use strict";cc._RF.push(e,"21215zzq7dFP7WqOx2NwWRH","User"),Object.defineProperty(n,"__esModule",{value:!0}),n.User=void 0;var r=function(){function t(t){this.id=t}return t.prototype.getID=function(){return this.id},Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(t){this._name=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playerTeam",{get:function(){return this._playerTeam},set:function(t){this._playerTeam=t},enumerable:!1,configurable:!0}),t}();n.User=r,cc._RF.pop()},{}],arrays:[function(t,e,n){"use strict";cc._RF.push(e,"79c98SIRIlCgIwW557Cnq3a","arrays"),Object.defineProperty(n,"__esModule",{value:!0});var r=t("./util");function o(t,e,n){for(var o=n||r.defaultEquals,i=t.length,a=0;a<i;a++)if(o(t[a],e))return a;return-1}n.indexOf=o,n.lastIndexOf=function(t,e,n){for(var o=n||r.defaultEquals,i=t.length-1;i>=0;i--)if(o(t[i],e))return i;return-1},n.contains=function(t,e,n){return o(t,e,n)>=0},n.remove=function(t,e,n){var r=o(t,e,n);return!(r<0||(t.splice(r,1),0))},n.frequency=function(t,e,n){for(var o=n||r.defaultEquals,i=t.length,a=0,s=0;s<i;s++)o(t[s],e)&&a++;return a},n.equals=function(t,e,n){var o=n||r.defaultEquals;if(t.length!==e.length)return!1;for(var i=t.length,a=0;a<i;a++)if(!o(t[a],e[a]))return!1;return!0},n.copy=function(t){return t.concat()},n.swap=function(t,e,n){if(e<0||e>=t.length||n<0||n>=t.length)return!1;var r=t[e];return t[e]=t[n],t[n]=r,!0},n.toString=function(t){return"["+t.toString()+"]"},n.forEach=function(t,e){for(var n=0,r=t;n<r.length;n++)if(!1===e(r[n]))return},cc._RF.pop()},{"./util":"util"}],random:[function(t,e){"use strict";cc._RF.push(e,"a7eb7/82X9KvKedNczz8VVQ","random"),function(){var n="function"!=typeof Math.imul||-5!==Math.imul(4294967295,5)?function(t,e){var n=65535&t,r=65535&e;return n*r+((t>>>16&65535)*r+n*(e>>>16&65535)<<16>>>0)|0}:Math.imul,r="function"==typeof String.prototype.repeat&&"xxx"==="x".repeat(3)?function(t,e){return t.repeat(e)}:function(t,e){for(var n="";e>0;)1&e&&(n+=t),e>>=1,t+=t;return n};function o(t){if(!(this instanceof o))return new o(t);if(null==t)t=o.engines.nativeMath;else if("function"!=typeof t)throw new TypeError("Expected engine to be a function, got "+typeof t);this.engine=t}var i,a,s=o.prototype;function u(t){return function(){return t}}function c(t,e){return 0===e?t:function(n){return t(n)+e}}function l(t){var e=+t;return e<0?Math.ceil(e):Math.floor(e)}function f(t,e){return t<0?Math.max(t+e,0):Math.min(t,e)}function p(){}o.engines={nativeMath:function(){return 4294967296*Math.random()|0},mt19937:function(t){function e(t){for(var e=0,n=0;(0|e)<227;e=e+1|0)n=2147483648&t[e]|2147483647&t[e+1|0],t[e]=t[e+397|0]^n>>>1^(1&n?2567483615:0);for(;(0|e)<623;e=e+1|0)n=2147483648&t[e]|2147483647&t[e+1|0],t[e]=t[e-227|0]^n>>>1^(1&n?2567483615:0);n=2147483648&t[623]|2147483647&t[0],t[623]=t[396]^n>>>1^(1&n?2567483615:0)}function r(t){return t^=t>>>11,t^=t<<7&2636928640,(t^=t<<15&4022730752)^t>>>18}function i(t,e){for(var r=1,o=0,i=e.length,a=0|Math.max(i,624),s=0|t[0];(0|a)>0;--a)t[r]=s=(t[r]^n(s^s>>>30,1664525))+(0|e[o])+(0|o)|0,++o,(0|(r=r+1|0))>623&&(t[0]=t[623],r=1),o>=i&&(o=0);for(a=623;(0|a)>0;--a)t[r]=s=(t[r]^n(s^s>>>30,1566083941))-r|0,(0|(r=r+1|0))>623&&(t[0]=t[623],r=1);t[0]=2147483648}return function(){var a=new t(624),s=0,u=0;function c(){(0|s)>=624&&(e(a),s=0);var t=a[s];return s=s+1|0,u+=1,0|r(t)}return c._seed=0,c.getUseCount=function(){return u},c.discard=function(t){for(u+=t,(0|s)>=624&&(e(a),s=0);t-s>624;)t-=624-s,e(a),s=0;return s=s+t|0,c},c.seed=function(t){var e=0;c._seed=t,a[0]=e=0|t;for(var r=1;r<624;r=r+1|0)a[r]=e=n(e^e>>>30,1812433253)+r|0;return s=624,u=0,c},c.getSeed=function(){return c._seed},c.seedWithArray=function(t){return c.seed(19650218),i(a,t),c},c.autoSeed=function(){return c.seedWithArray(o.generateEntropyArray())},c}}("function"==typeof Int32Array?Int32Array:Array),browserCrypto:"undefined"!=typeof crypto&&"function"==typeof crypto.getRandomValues&&"function"==typeof Int32Array?(i=null,a=128,function(){return a>=128&&(null===i&&(i=new Int32Array(128)),crypto.getRandomValues(i),a=0),0|i[a++]}):null},o.generateEntropyArray=function(){for(var t=[],e=o.engines.nativeMath,n=0;n<16;++n)t[n]=0|e();return t.push(0|(new Date).getTime()),t},o.int32=function(t){return 0|t()},s.int32=function(){return o.int32(this.engine)},o.uint32=function(t){return t()>>>0},s.uint32=function(){return o.uint32(this.engine)},o.uint53=function(t){return 4294967296*(2097151&t())+(t()>>>0)},s.uint53=function(){return o.uint53(this.engine)},o.uint53Full=function(t){for(;;){var e=0|t();if(!(2097152&e))return 4294967296*(2097151&e)+(t()>>>0);if(2097152==(4194303&e)&&0==(0|t()))return 9007199254740992}},s.uint53Full=function(){return o.uint53Full(this.engine)},o.int53=function(t){var e=0|t();return 4294967296*(2097151&e)+(t()>>>0)+(2097152&e?-9007199254740992:0)},s.int53=function(){return o.int53(this.engine)},o.int53Full=function(t){for(;;){var e=0|t();if(!(4194304&e))return 4294967296*(2097151&e)+(t()>>>0)+(2097152&e?-9007199254740992:0);if(4194304==(8388607&e)&&0==(0|t()))return 9007199254740992}},s.int53Full=function(){return o.int53Full(this.engine)},o.integer=function(){function t(t){return 0==(t+1&t)}function e(t){var e=t+1,n=e*Math.floor(4294967296/e);return function(t){var r=0;do{r=t()>>>0}while(r>=n);return r%e}}function n(n){return t(n)?(r=n,function(t){return t()&r}):e(n);var r}function r(t){var e=t*Math.floor(9007199254740992/t);return function(n){var r=0;do{r=4294967296*(2097151&n())+(n()>>>0)}while(r>=e);return r%t}}function i(e){var n,o=e+1;if(0==(0|o)){var i=(o/4294967296|0)-1;if(t(i))return n=i,function(t){return 4294967296*(t()&n)+(t()>>>0)}}return r(o)}function a(t,e){return function(n){var r=0;do{var o=0|n();r=4294967296*(2097151&o)+(n()>>>0)+(2097152&o?-9007199254740992:0)}while(r<t||r>e);return r}}return function(t,e){if(t=Math.floor(t),e=Math.floor(e),t<-9007199254740992||!isFinite(t))throw new RangeError("Expected min to be at least -9007199254740992");if(e>9007199254740992||!isFinite(e))throw new RangeError("Expected max to be at most 9007199254740992");var r=e-t;return r<=0||!isFinite(r)?u(t):4294967295===r?0===t?o.uint32:c(o.int32,t+2147483648):r<4294967295?c(n(r),t):9007199254740991===r?c(o.uint53,t):r<9007199254740991?c(i(r),t):e-1-t==9007199254740991?c(o.uint53Full,t):-9007199254740992===t&&9007199254740992===e?o.int53Full:-9007199254740992===t&&9007199254740991===e?o.int53:-9007199254740991===t&&9007199254740992===e?c(o.int53,1):9007199254740992===e?c(a(t-1,e-1),1):a(t,e)}}(),s.integer=function(t,e){return o.integer(t,e)(this.engine)},o.realZeroToOneInclusive=function(t){return o.uint53Full(t)/9007199254740992},s.realZeroToOneInclusive=function(){return o.realZeroToOneInclusive(this.engine)},o.realZeroToOneExclusive=function(t){return o.uint53(t)/9007199254740992},s.realZeroToOneExclusive=function(){return o.realZeroToOneExclusive(this.engine)},o.real=function(t,e,n){if(!isFinite(t))throw new RangeError("Expected left to be a finite number");if(!isFinite(e))throw new RangeError("Expected right to be a finite number");return c((r=n?o.realZeroToOneInclusive:o.realZeroToOneExclusive,1==(i=e-t)?r:0===i?function(){return 0}:function(t){return r(t)*i}),t);var r,i},s.real=function(t,e,n){return o.real(t,e,n)(this.engine)},o.bool=function(){function t(t){return 1==(1&t())}function e(t,e){return function(n){return t(n)<e}}function n(t){if(t<=0)return u(!1);if(t>=1)return u(!0);var n=4294967296*t;return n%1==0?e(o.int32,n-2147483648|0):e(o.uint53,Math.round(9007199254740992*t))}return function(r,i){return null==i?null==r?t:n(r):r<=0?u(!1):r>=i?u(!0):e(o.integer(0,i-1),r)}}(),s.bool=function(t,e){return o.bool(t,e)(this.engine)},o.pick=function(t,e,n,r){var i=e.length,a=null==n?0:f(l(n),i),s=void 0===r?i:f(l(r),i);if(!(a>=s))return e[o.integer(a,s-1)(t)]},s.pick=function(t,e,n){return o.pick(this.engine,t,e,n)};var d,h,m,y=Array.prototype.slice;o.picker=function(t,e,n){var r=y.call(t,e,n);if(!r.length)return p;var i=o.integer(0,r.length-1);return function(t){return r[i(t)]}},o.shuffle=function(t,e,n){var r=e.length;if(r){null==n&&(n=0);for(var i=r-1>>>0;i>n;--i){var a=o.integer(0,i)(t);if(i!==a){var s=e[i];e[i]=e[a],e[a]=s}}}return e},s.shuffle=function(t){return o.shuffle(this.engine,t)},o.sample=function(t,e,n){if(n<0||n>e.length||!isFinite(n))throw new RangeError("Expected sampleSize to be within 0 and the length of the population");if(0===n)return[];var r=y.call(e),i=r.length;if(i===n)return o.shuffle(t,r,0);var a=i-n;return o.shuffle(t,r,a-1).slice(a)},s.sample=function(t,e){return o.sample(this.engine,t,e)},o.die=function(t){return o.integer(1,t)},s.die=function(t){return o.die(t)(this.engine)},o.dice=function(t,e){var n=o.die(t);return function(t){var r=[];r.length=e;for(var o=0;o<e;++o)r[o]=n(t);return r}},s.dice=function(t,e){return o.dice(t,e)(this.engine)},o.uuid4=function(){function t(t,e){return r("0",e-t.length)+t}return function(e){var n=e()>>>0,r=0|e(),o=0|e(),i=e()>>>0;return t(n.toString(16),8)+"-"+t((65535&r).toString(16),4)+"-"+t((r>>4&4095|16384).toString(16),4)+"-"+t((16383&o|32768).toString(16),4)+"-"+t((o>>4&65535).toString(16),4)+t(i.toString(16),8)}}(),s.uuid4=function(){return o.uuid4(this.engine)},o.string=function(t){null==t&&(t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_-");var e=t.length;if(!e)throw new Error("Expected pool not to be an empty string");var n=o.integer(0,e-1);return function(e,r){for(var o="",i=0;i<r;++i){var a=n(e);o+=t.charAt(a)}return o}},s.string=function(t,e){return o.string(e)(this.engine,t)},o.hex=(d=o.string("0123456789abcdef"),h=o.string("0123456789abcdef".toUpperCase()),function(t){return t?h:d}),s.hex=function(t,e){return o.hex(e)(this.engine,t)},o.date=function(t,e){if(!(t instanceof Date))throw new TypeError("Expected start to be a Date, got "+typeof t);if(!(e instanceof Date))throw new TypeError("Expected end to be a Date, got "+typeof e);var n=o.integer(t.getTime(),e.getTime());return function(t){return new Date(n(t))}},s.date=function(t,e){return o.date(t,e)(this.engine)},"function"==typeof define&&define.amd?define(function(){return o}):void 0!==e&&"function"==typeof t?e.exports.Random=o:(m=(void 0).Random,o.noConflict=function(){return(void 0).Random=m,this},(void 0).Random=o)}(),cc._RF.pop()},{}],util:[function(t,e,n){"use strict";cc._RF.push(e,"fb9abuinuFDrK7o4cuuZ8RR","util"),Object.defineProperty(n,"__esModule",{value:!0});var r=Object.prototype.hasOwnProperty;function o(t){return"function"==typeof t}function i(t){return void 0===t}function a(t){return"[object String]"===Object.prototype.toString.call(t)}n.has=function(t,e){return r.call(t,e)},n.defaultCompare=function(t,e){return t<e?-1:t===e?0:1},n.defaultEquals=function(t,e){return t===e},n.defaultToString=function(t){return null===t?"COLLECTION_NULL":i(t)?"COLLECTION_UNDEFINED":a(t)?"$s"+t:"$o"+t.toString()},n.makeString=function(t,e){if(void 0===e&&(e=","),null===t)return"COLLECTION_NULL";if(i(t))return"COLLECTION_UNDEFINED";if(a(t))return t.toString();var r="{",o=!0;for(var s in t)n.has(t,s)&&(o?o=!1:r+=e,r=r+s+":"+t[s]);return r+"}"},n.isFunction=o,n.isUndefined=i,n.isString=a,n.reverseCompareFunction=function(t){return i(t)||!o(t)?function(t,e){return t<e?1:t===e?0:-1}:function(e,n){return-1*t(e,n)}},n.compareToEquals=function(t){return function(e,n){return 0===t(e,n)}},cc._RF.pop()},{}]},{},["Abilities","BaseComponent","Card","Cards","Carousel","GameCard","HomeView","LobbyView","ProfilePic","TeamPicker","GameController","Dictionary","GameInfo","LinkedList","Set","User","UserInfo","arrays","random","util","GameScene","HomeScene","RandomUtils"]);